<!-- INCLUDE overall_header.html -->
<form id="acp_simpledown" method="post" action="{U_ACTION}" enctype="multipart/form-data">
    <!-- CONFIGURAÇÕES GERAIS -->
    <fieldset>
        <legend>{L_ACP_SIMPLEDOWN_SETTINGS}</legend>
        <dl>
            <dt><label for="max_upload_size">{L_ACP_SIMPLEDOWN_MAX_UPLOAD_SIZE}:</label><br />
                <span>{L_ACP_SIMPLEDOWN_MAX_UPLOAD_SIZE_EXPLAIN}</span>
            </dt>
            <dd><input type="number" id="max_upload_size" name="max_upload_size" value="{MAX_UPLOAD_SIZE}" min="1" max="500" step="1" /> MB</dd>
        </dl>
        <p class="submit-buttons">
            <input class="button1" type="submit" name="config_submit" value="{L_ACP_SIMPLEDOWN_SAVE_CONFIG}" />
        </p>
    </fieldset>

    <!-- MODO EDIÇÃO DE ARQUIVO -->
    <!-- IF S_EDIT_MODE -->
    <fieldset>
        <legend>{L_ACP_SIMPLEDOWN_EDIT_DESCRIPTION}: <strong>{EDIT_FILE_NAME}</strong></legend>
        <input type="hidden" name="action" value="edit" />
        <input type="hidden" name="id" value="{EDIT_FILE_ID}" />
        <dl>
            <dt><label for="edit_file_name">{L_ACP_SIMPLEDOWN_FILE_NAME}:</label><br />
                <span>{L_ACP_SIMPLEDOWN_FILE_NAME_EXPLAIN}</span>
            </dt>
            <dd><input type="text" id="edit_file_name" name="edit_file_name" value="{EDIT_FILE_NAME}" maxlength="255" size="50" /></dd>
        </dl>
        <dl>
            <dt><label for="edit_file_desc">{L_ACP_SIMPLEDOWN_DESCRIPTION}:</label></dt>
            <dd><textarea id="edit_file_desc" name="edit_file_desc" rows="5" cols="60">{EDIT_FILE_DESC}</textarea></dd>
        </dl>
        <dl>
            <dt><label for="edit_category">{L_ACP_SIMPLEDOWN_CATEGORY}:</label></dt>
            <dd>
                <select id="edit_category" name="edit_category">
                    <option value="0">{L_ACP_SIMPLEDOWN_NO_CATEGORY}</option>
                    <!-- BEGIN categories -->
                    <option value="{categories.ID}" <!-- IF categories.ID == EDIT_FILE_CAT_ID -->selected="selected"<!-- ENDIF -->>{categories.NAME}</option>
                    <!-- END categories -->
                </select>
            </dd>
        </dl>
        <p class="submit-buttons">
            <input class="button1" type="submit" name="submit_edit" value="{L_ACP_SIMPLEDOWN_SAVE_CHANGES}" />
            <input class="button2" type="button" onclick="window.location.href='{U_ACTION}';" value="{L_ACP_SIMPLEDOWN_CANCEL}" />
        </p>
    </fieldset>
    <!-- ENDIF -->

    <!-- ADICIONAR / EXCLUIR CATEGORIA -->
    <fieldset>
        <legend>{L_ACP_SIMPLEDOWN_ADD_CATEGORY}</legend>
        <dl>
            <dt><label for="cat_name">{L_ACP_SIMPLEDOWN_CATEGORY_NAME}:</label></dt>
            <dd><input type="text" id="cat_name" name="cat_name" maxlength="255" /></dd>
        </dl>
        <p class="submit-buttons">
            <input class="button1" type="submit" name="add_cat" value="{L_ACP_SIMPLEDOWN_ADD_CATEGORY}" />
        </p>
        <dl>
            <dt><label for="delete_category">{L_ACP_SIMPLEDOWN_DELETE_CATEGORY}:</label></dt>
            <dd>
                <select id="delete_category" name="delete_category">
                    <option value="0">{L_ACP_SIMPLEDOWN_SELECT_CATEGORY_TO_DELETE}</option>
                    <!-- BEGIN delete_categories -->
                    <option value="{delete_categories.ID}">{delete_categories.NAME}</option>
                    <!-- END delete_categories -->
                </select>
                <input class="button2" type="submit" name="delete_cat_submit" value="{L_ACP_SIMPLEDOWN_DELETE}" />
            </dd>
        </dl>
        <!-- IF not delete_categories -->
        <p>{L_ACP_SIMPLEDOWN_NO_CATEGORIES_YET}</p>
        <!-- ENDIF -->
    </fieldset>

<!-- ADICIONAR ARQUIVO -->
<fieldset>
    <legend>{L_ACP_SIMPLEDOWN_ADD_FILE}</legend>
    
    <!-- Duas colunas compactas na mesma linha -->
    <div class="security-notices">
        <!-- Arquivos Proibidos -->
        <div class="warning-box">
            <strong><i class="fas fa-exclamation-triangle"></i> {L_ACP_SIMPLEDOWN_SECURITY_WARNING_TITLE}</strong><br />
            {L_ACP_SIMPLEDOWN_SECURITY_WARNING_TEXT_1}<br />
            {L_ACP_SIMPLEDOWN_SECURITY_WARNING_TEXT_2}
        </div>
        
        <!-- Arquivos Permitidos -->
        <div class="allowed-box">
            <strong><i class="fas fa-check-circle"></i> {L_ACP_SIMPLEDOWN_ALLOWED_FILES_TITLE}</strong><br />
            {L_ACP_SIMPLEDOWN_ALLOWED_FILES_TEXT_1}
        </div>
    </div>

    <dl>
        <dt><label for="file_name">{L_ACP_SIMPLEDOWN_FILE_NAME}:</label></dt>
        <dd><input type="text" id="file_name" name="file_name" maxlength="255" /></dd>
    </dl>
    <dl>
        <dt><label for="file_desc">{L_ACP_SIMPLEDOWN_DESCRIPTION}:</label></dt>
        <dd><textarea id="file_desc" name="file_desc" rows="3" cols="40"></textarea></dd>
    </dl>
    <dl>
        <dt><label for="category">{L_ACP_SIMPLEDOWN_CATEGORY}:</label></dt>
        <dd>
            <select id="category" name="category">
                <option value="0">{L_ACP_SIMPLEDOWN_NO_CATEGORY}</option>
                <!-- BEGIN categories -->
                <option value="{categories.ID}">{categories.NAME}</option>
                <!-- END categories -->
            </select>
        </dd>
    </dl>
    <dl>
        <dt><label for="file_upload">{L_ACP_SIMPLEDOWN_UPLOAD_FILE}:</label></dt>
        <dd><input type="file" id="file_upload" name="file_upload" /></dd>
    </dl>
    <p class="submit-buttons">
        <input class="button1" type="submit" name="submit" value="{L_ACP_SIMPLEDOWN_UPLOAD_FILE}" />
    </p>
</fieldset>

    <!-- ARQUIVOS EXISTENTES COM PAGINAÇÃO -->
    <fieldset>
        <legend>{L_ACP_SIMPLEDOWN_EXISTING_FILES}</legend>
        <!-- Paginação no topo da tabela -->
        <!-- IF ACP_TOTAL_PAGES > 1 -->
        <div class="acp-pagination">
            <span>{L_ACP_SIMPLEDOWN_PAGINATION_INFO}: {ACP_CURRENT_PAGE} / {ACP_TOTAL_PAGES}</span>
            <div class="acp-pagination-buttons">
                <!-- IF ACP_PREV_PAGE -->
                <a href="{ACP_PREV_PAGE}" class="button2">&laquo; {L_PREVIOUS}</a>
                <!-- ENDIF -->
                <!-- IF ACP_NEXT_PAGE -->
                <a href="{ACP_NEXT_PAGE}" class="button2">{L_NEXT} &raquo;</a>
                <!-- ENDIF -->
            </div>
        </div>
        <!-- ENDIF -->
        <!-- IF .files -->
        <table class="table1 compact-table">
            <thead>
                <tr>
                    <th style="width: 40%; text-align: left;">{L_ACP_SIMPLEDOWN_FILE_NAME}</th>
                    <th style="width: 20%;">{L_ACP_SIMPLEDOWN_CATEGORY}</th>
                    <th style="width: 20%;">{L_ACP_SIMPLEDOWN_DOWNLOADS} / {L_ACP_SIMPLEDOWN_SIZE}</th>
                    <th style="width: 20%; text-align: center;">{L_ACP_SIMPLEDOWN_ACTIONS}</th>
                </tr>
            </thead>
            <tbody>
                <!-- BEGIN files -->
                <tr>
                    <td style="text-align: left; vertical-align: middle; padding: 12px 18px;">
                        <strong>{files.NAME}</strong><br />
                        <span style="color: #666; font-size: 0.9em;">{files.DESC}</span><br />
                        <small style="color: #999; font-size: 0.85em;">
                            <i class="icon fa-fw {files.FILE_ICON}" aria-hidden="true"></i> {files.REAL_NAME}
                        </small>
                    </td>
                    <td style="text-align: center; vertical-align: middle; padding: 12px 18px;">{files.CAT}</td>
                    <td style="text-align: center; vertical-align: middle; padding: 12px 18px;">
                        {files.DOWNLOADS} / {files.SIZE}
                    </td>
                    <td style="text-align: center; vertical-align: middle; padding: 12px 18px;">
                        <a href="{files.U_EDIT}" class="button2" style="padding: 6px 12px; font-size: 0.9em; margin: 0 4px;">{L_ACP_SIMPLEDOWN_EDIT}</a>
                        <a href="{files.U_DELETE}" class="button2" style="padding: 6px 12px; font-size: 0.9em; margin: 0 4px;">{L_ACP_SIMPLEDOWN_DELETE}</a>
                    </td>
                </tr>
                <!-- END files -->
            </tbody>
        </table>
        <!-- ELSE -->
        <p>{L_ACP_SIMPLEDOWN_NO_FILES_YET}</p>
        <!-- ENDIF -->
        <!-- Paginação no rodapé (repetida para conveniência) -->
        <!-- IF ACP_TOTAL_PAGES > 1 -->
        <div class="acp-pagination" style="margin-top: 20px;">
            <span>{L_ACP_SIMPLEDOWN_PAGINATION_INFO}: {ACP_CURRENT_PAGE} / {ACP_TOTAL_PAGES}</span>
            <div class="acp-pagination-buttons">
                <!-- IF ACP_PREV_PAGE -->
                <a href="{ACP_PREV_PAGE}" class="button2">&laquo; {L_PREVIOUS}</a>
                <!-- ENDIF -->
                <!-- IF ACP_NEXT_PAGE -->
                <a href="{ACP_NEXT_PAGE}" class="button2">{L_NEXT} &raquo;</a>
                <!-- ENDIF -->
            </div>
        </div>
        <!-- ENDIF -->
    </fieldset>
    {S_FORM_TOKEN}
</form>
<!-- INCLUDECSS @mundophpbb_simpledown/acp_simpledown.css -->
<!-- INCLUDE overall_footer.html -->